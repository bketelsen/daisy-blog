---
import { published } from "@data/post"
import Blog from "@layouts/shuffle";
import Card from "@components/blog/card";


const markdownFiles = await Astro.glob('../content/blog/**/*.md')
const posts = published( markdownFiles ).slice(0, 3);
---

<Blog title="Home" waves={true}>
	<section class="py-16 bg-white md:py-24 lg:pb-52" style="background-image: url('flex-ui-assets/elements/pattern-white.svg'); background-repeat: no-repeat; background-position: center top;">
        <div class="container max-w-5xl px-4 mx-auto">
          <div class="flex flex-wrap items-center mb-16">
            <div class="w-full mb-8 md:w-3/4 md:mb-0">
              <span class="inline-block px-2 py-px mb-4 text-xs font-medium leading-5 text-blue-700 uppercase bg-blue-100 rounded-full shadow-sm">Blog</span>
              <h2 class="mb-4 text-4xl font-bold leading-tight tracking-tighter font-title md:text-5xl text-darkCoolGray-900">Recent posts</h2>
              <p class="text-lg font-medium md:text-xl text-coolGray-500">With our integrated CRM, project management, collaboration and invoicing capabilities, you can manage your business in one secure platform.</p>
            </div>
            <div class="w-full md:w-1/4"><a class="flex items-center justify-center px-4 py-2 ml-auto text-sm font-medium leading-5 bg-blue-700 rounded-md text-blue-50 hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 md:max-w-max" href="/blog/1">View All Posts</a></div>
          </div>
          <div class="flex flex-wrap -mx-4">
			{posts.map((p) =>
				<Card post={p} />
			)}

          </div>
        </div>
      </section>

</Blog>
